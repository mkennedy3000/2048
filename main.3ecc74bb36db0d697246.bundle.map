{"version":3,"sources":["webpack:///main.3ecc74bb36db0d697246.bundle.js","webpack:///./config/modules/angular2-hmr-prod.js","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.service.ts","webpack:///./src/app/board/board.component.css","webpack:///./src/app/board/board.component.ts","webpack:///./src/app/board/tile/tile.component.css","webpack:///./src/app/board/tile/tile.component.ts","webpack:///./src/app/board/tile/tile.model.ts","webpack:///./src/app/index.ts","webpack:///./src/app/state/state.model.ts","webpack:///./src/app/state/state.service.ts","webpack:///./src/app/structs/pair.model.ts","webpack:///./src/main.browser.ts","webpack:///./src/platform/browser-directives.ts","webpack:///./src/platform/browser-pipes.ts","webpack:///./src/platform/browser-providers.ts","webpack:///./src/platform/browser.ts","webpack:///./src/platform/environment.ts"],"names":["webpackJsonp","519","module","exports","HmrState","494","__webpack_require__","core_1","app_service_1","board_component_1","state_service_1","App","appState","stateService","this","name","newGame","prototype","ngOnInit","console","log","state","getNewGameState","slideLeft","slide","__decorate","Component","selector","encapsulation","ViewEncapsulation","None","directives","BoardComponent","providers","StateService","template","__metadata","_a","AppState","Object","_b","232","angular2_hmr_1","_state","defineProperty","get","_clone","set","value","Error","enumerable","configurable","prop","hasOwnProperty","object","JSON","parse","stringify","Injectable","684","495","tile_component_1","state_model_1","slideTiles","keyCode","HostListener","Function","Input","State","TileComponent","styles","685","496","tile_model_1","TILE_SIZE","ngOnChanges","updatePosition","updateColor","xPos","tile","x","yPos","y","color","Tile","HostBinding","350","merged","isEmpty","497","__export","m","p","app_service_2","APP_PROVIDERS","351","score","tiles","498","pair_model_1","tile_model_ts_1","BOARD_WIDTH","BOARD_HEIGHT","_this","Array","from","length","v","k","Math","floor","addRandomTiles","num","addRandomTile","getRandomInt","min","max","random","row1","slideTilesLeft","slice","row2","row3","row4","update","concat","updates","i","slideTileLeft","map","slideTileRight","reverse","mergeTiles","Pair","remaining","right","res","unshift","left","499","0","main","initialHmrState","platform_browser_dynamic_1","bootstrap","app_1","browser_1","PLATFORM_PROVIDERS","environment_1","ENV_PROVIDERS","then","decorateComponentRef","catch","err","error","document","addEventListener","352","forms_1","APPLICATION_DIRECTIVES","REACTIVE_FORM_DIRECTIVES","DIRECTIVES","provide","PLATFORM_DIRECTIVES","multi","useValue","353","APPLICATION_PIPES","PIPES","PLATFORM_PIPES","354","http_1","APPLICATION_PROVIDERS","disableDeprecatedForms","provideForms","HTTP_PROVIDERS","PROVIDERS","500","browser_directives_2","browser_pipes_2","browser_providers_2","501","platform_browser_1","_decorateComponentRef","disableDebugTools","enableProdMode"],"mappings":"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","file":"main.3ecc74bb36db0d697246.bundle.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 519:\n/***/ function(module, exports) {\n\n\texports.HmrState = function() {\n\t\n\t}\n\n\n/***/ },\n\n/***/ 494:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/*\n\t * Angular 2 decorators and services\n\t */\n\tvar core_1 = __webpack_require__(1);\n\tvar app_service_1 = __webpack_require__(232);\n\tvar board_component_1 = __webpack_require__(495);\n\tvar state_service_1 = __webpack_require__(498);\n\t/*\n\t * App Component\n\t * Top Level Component\n\t */\n\tvar App = (function () {\n\t    function App(appState, stateService) {\n\t        this.appState = appState;\n\t        this.stateService = stateService;\n\t        this.name = 'Angular 2 2048';\n\t        this.newGame();\n\t    }\n\t    App.prototype.ngOnInit = function () {\n\t        console.log('Initial App State', this.appState.state);\n\t    };\n\t    App.prototype.newGame = function () {\n\t        this.state = this.stateService.getNewGameState();\n\t    };\n\t    App.prototype.slideLeft = function () {\n\t        this.state = this.stateService.slide(this.state);\n\t    };\n\t    App = __decorate([\n\t        core_1.Component({\n\t            selector: 'app',\n\t            encapsulation: core_1.ViewEncapsulation.None,\n\t            directives: [board_component_1.BoardComponent],\n\t            providers: [state_service_1.StateService],\n\t            template: \"\\n    {{name}}\\n    <br><br>\\n    <button (click)=\\\"newGame()\\\">New Game</button>\\n    <button (click)=\\\"slideLeft()\\\">Slide Left</button>\\n    <br><br>\\n    <board [state]=\\\"state\\\"></board>\\n  \"\n\t        }), \n\t        __metadata('design:paramtypes', [(typeof (_a = typeof app_service_1.AppState !== 'undefined' && app_service_1.AppState) === 'function' && _a) || Object, (typeof (_b = typeof state_service_1.StateService !== 'undefined' && state_service_1.StateService) === 'function' && _b) || Object])\n\t    ], App);\n\t    return App;\n\t    var _a, _b;\n\t}());\n\texports.App = App;\n\n\n/***/ },\n\n/***/ 232:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar angular2_hmr_1 = __webpack_require__(519);\n\tvar AppState = (function () {\n\t    function AppState() {\n\t        // @HmrState() is used by HMR to track the state of any object during HMR (hot module replacement)\n\t        this._state = {};\n\t    }\n\t    Object.defineProperty(AppState.prototype, \"state\", {\n\t        // already return a clone of the current state\n\t        get: function () {\n\t            return this._state = this._clone(this._state);\n\t        },\n\t        // never allow mutation\n\t        set: function (value) {\n\t            throw new Error('do not mutate the `.state` directly');\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    AppState.prototype.get = function (prop) {\n\t        // use our state getter for the clone\n\t        var state = this.state;\n\t        return state.hasOwnProperty(prop) ? state[prop] : state;\n\t    };\n\t    AppState.prototype.set = function (prop, value) {\n\t        // internally mutate our state\n\t        return this._state[prop] = value;\n\t    };\n\t    AppState.prototype._clone = function (object) {\n\t        // simple object clone\n\t        return JSON.parse(JSON.stringify(object));\n\t    };\n\t    __decorate([\n\t        angular2_hmr_1.HmrState(), \n\t        __metadata('design:type', Object)\n\t    ], AppState.prototype, \"_state\", void 0);\n\t    AppState = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], AppState);\n\t    return AppState;\n\t}());\n\texports.AppState = AppState;\n\n\n/***/ },\n\n/***/ 684:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"board{display:flex;position:relative;width:400px;height:400px;background:green}\"\n\n/***/ },\n\n/***/ 495:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar tile_component_1 = __webpack_require__(496);\n\tvar state_model_1 = __webpack_require__(351);\n\tvar BoardComponent = (function () {\n\t    function BoardComponent() {\n\t    }\n\t    BoardComponent.prototype.slideTiles = function (keyCode) {\n\t        console.log(keyCode);\n\t    };\n\t    __decorate([\n\t        core_1.HostListener('document:keydown', ['$event.keyCode']), \n\t        __metadata('design:type', Function), \n\t        __metadata('design:paramtypes', [Object]), \n\t        __metadata('design:returntype', void 0)\n\t    ], BoardComponent.prototype, \"slideTiles\", null);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', (typeof (_a = typeof state_model_1.State !== 'undefined' && state_model_1.State) === 'function' && _a) || Object)\n\t    ], BoardComponent.prototype, \"state\", void 0);\n\t    BoardComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'board',\n\t            encapsulation: core_1.ViewEncapsulation.None,\n\t            directives: [tile_component_1.TileComponent],\n\t            template: '<tile *ngFor=\"let tile of state.tiles\" [tile]=\"tile\"></tile>',\n\t            styles: [__webpack_require__(684)]\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], BoardComponent);\n\t    return BoardComponent;\n\t    var _a;\n\t}());\n\texports.BoardComponent = BoardComponent;\n\n\n/***/ },\n\n/***/ 685:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"tile{display:block;position:absolute;width:80px;height:80px;margin:10px;color:green;font-weight:700;line-height:80px;text-align:center}\"\n\n/***/ },\n\n/***/ 496:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar tile_model_1 = __webpack_require__(350);\n\tvar TileComponent = (function () {\n\t    function TileComponent() {\n\t        this.TILE_SIZE = 100;\n\t    }\n\t    TileComponent.prototype.ngOnChanges = function () {\n\t        this.updatePosition();\n\t        this.updateColor();\n\t    };\n\t    TileComponent.prototype.updatePosition = function () {\n\t        this.xPos = this.tile.x * this.TILE_SIZE + \"px\";\n\t        this.yPos = this.tile.y * this.TILE_SIZE + \"px\";\n\t    };\n\t    TileComponent.prototype.updateColor = function () {\n\t        switch (this.tile.value) {\n\t            case 2:\n\t                this.color = 'lightblue';\n\t            default:\n\t                this.color = 'lightgray';\n\t        }\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', (typeof (_a = typeof tile_model_1.Tile !== 'undefined' && tile_model_1.Tile) === 'function' && _a) || Object)\n\t    ], TileComponent.prototype, \"tile\", void 0);\n\t    __decorate([\n\t        core_1.HostBinding('style.left'), \n\t        __metadata('design:type', Object)\n\t    ], TileComponent.prototype, \"xPos\", void 0);\n\t    __decorate([\n\t        core_1.HostBinding('style.top'), \n\t        __metadata('design:type', Object)\n\t    ], TileComponent.prototype, \"yPos\", void 0);\n\t    __decorate([\n\t        core_1.HostBinding('style.background'), \n\t        __metadata('design:type', Object)\n\t    ], TileComponent.prototype, \"color\", void 0);\n\t    TileComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'tile',\n\t            encapsulation: core_1.ViewEncapsulation.None,\n\t            template: '<span *ngIf=\"!tile.isEmpty()\">{{tile.value}}</span>',\n\t            styles: [__webpack_require__(685)]\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], TileComponent);\n\t    return TileComponent;\n\t    var _a;\n\t}());\n\texports.TileComponent = TileComponent;\n\n\n/***/ },\n\n/***/ 350:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar Tile = (function () {\n\t    function Tile(value, x, y, merged) {\n\t        this.value = value;\n\t        this.x = x;\n\t        this.y = y;\n\t        this.merged = merged;\n\t        this.merged = !!merged;\n\t    }\n\t    Tile.prototype.isEmpty = function () {\n\t        return this.value <= 0;\n\t    };\n\t    return Tile;\n\t}());\n\texports.Tile = Tile;\n\n\n/***/ },\n\n/***/ 497:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t// App\n\t__export(__webpack_require__(494));\n\t__export(__webpack_require__(232));\n\tvar app_service_2 = __webpack_require__(232);\n\t// Application wide providers\n\texports.APP_PROVIDERS = [\n\t    app_service_2.AppState\n\t];\n\n\n/***/ },\n\n/***/ 351:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar State = (function () {\n\t    function State() {\n\t        this.score = 0;\n\t        this.tiles = [];\n\t    }\n\t    return State;\n\t}());\n\texports.State = State;\n\n\n/***/ },\n\n/***/ 498:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar state_model_1 = __webpack_require__(351);\n\tvar pair_model_1 = __webpack_require__(499);\n\tvar tile_model_ts_1 = __webpack_require__(350);\n\tvar StateService = (function () {\n\t    function StateService() {\n\t        this.BOARD_WIDTH = 4;\n\t        this.BOARD_HEIGHT = 4;\n\t    }\n\t    StateService.prototype.getNewGameState = function () {\n\t        var _this = this;\n\t        var state = new state_model_1.State();\n\t        state.tiles = Array.from({ length: this.BOARD_WIDTH * this.BOARD_HEIGHT }, function (v, k) {\n\t            return new tile_model_ts_1.Tile(0, k % _this.BOARD_WIDTH, Math.floor(k / _this.BOARD_WIDTH));\n\t        });\n\t        return this.addRandomTiles(state, 2);\n\t    };\n\t    StateService.prototype.addRandomTiles = function (state, num) {\n\t        if (num === 0) {\n\t            return state;\n\t        }\n\t        else {\n\t            return this.addRandomTiles(this.addRandomTile(state), num - 1);\n\t        }\n\t    };\n\t    StateService.prototype.addRandomTile = function (state) {\n\t        var tile;\n\t        do {\n\t            tile = state.tiles[this.getRandomInt(0, 16)];\n\t        } while (!tile.isEmpty());\n\t        tile.value = this.getRandomInt(0, 4) > 0 ? 2 : 4;\n\t        return state;\n\t    };\n\t    StateService.prototype.slide = function (state) {\n\t        return this.addRandomTile(this.slideLeft(state));\n\t    };\n\t    StateService.prototype.getRandomInt = function (min, max) {\n\t        return Math.floor(Math.random() * (max - min)) + min;\n\t    };\n\t    StateService.prototype.slideLeft = function (state) {\n\t        var row1 = this.slideTilesLeft(state.tiles.slice(this.BOARD_WIDTH * 0, this.BOARD_WIDTH * 1));\n\t        var row2 = this.slideTilesLeft(state.tiles.slice(this.BOARD_WIDTH * 1, this.BOARD_WIDTH * 2));\n\t        var row3 = this.slideTilesLeft(state.tiles.slice(this.BOARD_WIDTH * 2, this.BOARD_WIDTH * 3));\n\t        var row4 = this.slideTilesLeft(state.tiles.slice(this.BOARD_WIDTH * 3, this.BOARD_WIDTH * 4));\n\t        var update = new state_model_1.State();\n\t        update.tiles = row1.concat(row2, row3, row4);\n\t        return update;\n\t    };\n\t    StateService.prototype.slideTilesLeft = function (tiles) {\n\t        var updates = tiles;\n\t        for (var i = 1; i <= tiles.length; i++) {\n\t            updates = this.slideTileLeft(updates.slice(0, i)).concat(updates.slice(i));\n\t        }\n\t        return updates.map(function (tile) {\n\t            tile.merged = false;\n\t            return tile;\n\t        });\n\t    };\n\t    StateService.prototype.slideTileLeft = function (tiles) {\n\t        return this.slideTileRight(tiles.reverse()).reverse();\n\t    };\n\t    StateService.prototype.slideTileRight = function (tiles) {\n\t        if (tiles.length <= 1) {\n\t            return tiles;\n\t        }\n\t        var merged = this.mergeTiles(new pair_model_1.Pair(tiles[0], tiles[1]));\n\t        var remaining = tiles.slice(1);\n\t        remaining[0] = merged.right;\n\t        var res = this.slideTileRight(remaining);\n\t        res.unshift(merged.left);\n\t        return res;\n\t    };\n\t    StateService.prototype.mergeTiles = function (tiles) {\n\t        var left = tiles.left;\n\t        var right = tiles.right;\n\t        if (right.isEmpty()) {\n\t            // Move\n\t            return new pair_model_1.Pair(new tile_model_ts_1.Tile(0, left.x, left.y), new tile_model_ts_1.Tile(left.value, right.x, right.y));\n\t        }\n\t        else if (left.value == right.value && !right.isEmpty() && !left.merged && !right.merged) {\n\t            // Merge\n\t            return new pair_model_1.Pair(new tile_model_ts_1.Tile(0, left.x, left.y), new tile_model_ts_1.Tile(right.value * 2, right.x, right.y, true));\n\t        }\n\t        else {\n\t            // No Change\n\t            return tiles;\n\t        }\n\t    };\n\t    StateService = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], StateService);\n\t    return StateService;\n\t}());\n\texports.StateService = StateService;\n\n\n/***/ },\n\n/***/ 499:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar Pair = (function () {\n\t    function Pair(left, right) {\n\t        this.left = left;\n\t        this.right = right;\n\t    }\n\t    return Pair;\n\t}());\n\texports.Pair = Pair;\n\n\n/***/ },\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/*\n\t * Providers provided by Angular\n\t */\n\tvar platform_browser_dynamic_1 = __webpack_require__(336);\n\t/*\n\t* Platform and Environment\n\t* our providers/directives/pipes\n\t*/\n\tvar browser_1 = __webpack_require__(500);\n\tvar environment_1 = __webpack_require__(501);\n\t/*\n\t* App Component\n\t* our top level component that holds all of our components\n\t*/\n\tvar app_1 = __webpack_require__(497);\n\t/*\n\t * Bootstrap our Angular app with a top level component `App` and inject\n\t * our Services and Providers into Angular's dependency injection\n\t */\n\tfunction main(initialHmrState) {\n\t    return platform_browser_dynamic_1.bootstrap(app_1.App, browser_1.PLATFORM_PROVIDERS.concat(environment_1.ENV_PROVIDERS, app_1.APP_PROVIDERS))\n\t        .then(environment_1.decorateComponentRef)\n\t        .catch(function (err) { return console.error(err); });\n\t}\n\texports.main = main;\n\t/*\n\t * Vendors\n\t * For vendors for example jQuery, Lodash, angular2-jwt just import them anywhere in your app\n\t * You can also import them in vendors to ensure that they are bundled in one file\n\t * Also see custom-typings.d.ts as you also need to do `typings install x` where `x` is your module\n\t */\n\t/*\n\t * Hot Module Reload\n\t * experimental version by @gdi2290\n\t */\n\tif (false) {\n\t    // activate hot module reload\n\t    var ngHmr = require('angular2-hmr');\n\t    ngHmr.hotModuleReplacement(main, module);\n\t}\n\telse {\n\t    // bootstrap when document is ready\n\t    document.addEventListener('DOMContentLoaded', function () { return main(); });\n\t}\n\n\n/***/ },\n\n/***/ 352:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/*\n\t * These are globally available directives in any template\n\t */\n\t// Angular 2\n\tvar core_1 = __webpack_require__(1);\n\t// Angular 2 forms\n\tvar forms_1 = __webpack_require__(207);\n\t// application_directives: directives that are global through out the application\n\texports.APPLICATION_DIRECTIVES = forms_1.REACTIVE_FORM_DIRECTIVES.slice();\n\texports.DIRECTIVES = [\n\t    { provide: core_1.PLATFORM_DIRECTIVES, multi: true, useValue: exports.APPLICATION_DIRECTIVES }\n\t];\n\n\n/***/ },\n\n/***/ 353:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * These are globally available pipes in any template\n\t */\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\t// application_pipes: pipes that are global through out the application\n\texports.APPLICATION_PIPES = [];\n\texports.PIPES = [\n\t    { provide: core_1.PLATFORM_PIPES, multi: true, useValue: exports.APPLICATION_PIPES }\n\t];\n\n\n/***/ },\n\n/***/ 354:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * These are globally available services in any component or any other service\n\t */\n\t\"use strict\";\n\t// Angular 2 Http\n\tvar http_1 = __webpack_require__(328);\n\t// Angular 2 forms\n\tvar forms_1 = __webpack_require__(207);\n\t/*\n\t* Application Providers/Directives/Pipes\n\t* providers/directives/pipes that only live in our browser environment\n\t*/\n\texports.APPLICATION_PROVIDERS = [\n\t    // new Angular 2 forms\n\t    forms_1.disableDeprecatedForms(),\n\t    forms_1.provideForms()\n\t].concat(http_1.HTTP_PROVIDERS);\n\texports.PROVIDERS = exports.APPLICATION_PROVIDERS.slice();\n\n\n/***/ },\n\n/***/ 500:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t__export(__webpack_require__(352));\n\t__export(__webpack_require__(353));\n\t__export(__webpack_require__(354));\n\tvar browser_directives_2 = __webpack_require__(352);\n\tvar browser_pipes_2 = __webpack_require__(353);\n\tvar browser_providers_2 = __webpack_require__(354);\n\texports.PLATFORM_PROVIDERS = browser_providers_2.PROVIDERS.concat(browser_directives_2.DIRECTIVES, browser_pipes_2.PIPES);\n\n\n/***/ },\n\n/***/ 501:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t// Angular 2\n\t// rc2 workaround\n\tvar platform_browser_1 = __webpack_require__(147);\n\tvar core_1 = __webpack_require__(1);\n\t// Environment Providers\n\tvar PROVIDERS = [];\n\t// Angular debug tools in the dev console\n\t// https://github.com/angular/angular/blob/86405345b781a9dc2438c0fbe3e9409245647019/TOOLS_JS.md\n\tvar _decorateComponentRef = function identity(value) { return value; };\n\tif (true) {\n\t    // Production\n\t    platform_browser_1.disableDebugTools();\n\t    core_1.enableProdMode();\n\t    PROVIDERS = PROVIDERS.slice();\n\t}\n\telse {\n\t    _decorateComponentRef = function (cmpRef) {\n\t        var _ng = window.ng;\n\t        platform_browser_1.enableDebugTools(cmpRef);\n\t        window.ng.probe = _ng.probe;\n\t        window.ng.coreTokens = _ng.coreTokens;\n\t        return cmpRef;\n\t    };\n\t    // Development\n\t    PROVIDERS = PROVIDERS.slice();\n\t}\n\texports.decorateComponentRef = _decorateComponentRef;\n\texports.ENV_PROVIDERS = PROVIDERS.slice();\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** main.3ecc74bb36db0d697246.bundle.js\n **/","exports.HmrState = function() {\n\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./config/modules/angular2-hmr-prod.js\n ** module id = 519\n ** module chunks = 2\n **/","/*\n * Angular 2 decorators and services\n */\nimport { Component, ViewEncapsulation } from '@angular/core';\n\nimport { AppState } from './app.service';\nimport { BoardComponent } from './board/board.component';\nimport {StateService} from \"./state/state.service\";\nimport {State} from \"./state/state.model\";\n\n/*\n * App Component\n * Top Level Component\n */\n@Component({\n  selector: 'app',\n  encapsulation: ViewEncapsulation.None,\n  directives: [BoardComponent],\n  providers: [StateService],\n  template: `\n    {{name}}\n    <br><br>\n    <button (click)=\"newGame()\">New Game</button>\n    <button (click)=\"slideLeft()\">Slide Left</button>\n    <br><br>\n    <board [state]=\"state\"></board>\n  `\n})\nexport class App {\n\n  name = 'Angular 2 2048';\n  state: State;\n\n  constructor(\n    public appState: AppState,\n    public stateService: StateService) {\n\n    this.newGame();\n  }\n\n  ngOnInit() {\n    console.log('Initial App State', this.appState.state);\n  }\n\n  public newGame() {\n    this.state = this.stateService.getNewGameState();\n  }\n\n  public slideLeft() {\n    this.state = this.stateService.slide(this.state);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/app.component.ts\n **/","import { Injectable } from '@angular/core';\nimport { HmrState } from 'angular2-hmr';\n\n@Injectable()\nexport class AppState {\n  // @HmrState() is used by HMR to track the state of any object during HMR (hot module replacement)\n  @HmrState() _state = { };\n\n  constructor() {\n\n  }\n\n  // already return a clone of the current state\n  get state() {\n    return this._state = this._clone(this._state);\n  }\n  // never allow mutation\n  set state(value) {\n    throw new Error('do not mutate the `.state` directly');\n  }\n\n\n  get(prop?: any) {\n    // use our state getter for the clone\n    const state = this.state;\n    return state.hasOwnProperty(prop) ? state[prop] : state;\n  }\n\n  set(prop: string, value: any) {\n    // internally mutate our state\n    return this._state[prop] = value;\n  }\n\n\n  _clone(object) {\n    // simple object clone\n    return JSON.parse(JSON.stringify( object ));\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/app.service.ts\n **/","module.exports = \"board{display:flex;position:relative;width:400px;height:400px;background:green}\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/board/board.component.css\n ** module id = 684\n ** module chunks = 2\n **/","import { Component, HostListener, Input, ViewEncapsulation } from '@angular/core'\nimport { TileComponent } from \"./tile/tile.component\";\nimport {State} from \"../state/state.model\";\n\n@Component({\n    selector: 'board',\n    encapsulation: ViewEncapsulation.None,\n    directives: [TileComponent],\n    template: '<tile *ngFor=\"let tile of state.tiles\" [tile]=\"tile\"></tile>',\n    styles: [require('./board.component.css')]\n})\nexport class BoardComponent {\n\n    @HostListener('document:keydown', ['$event.keyCode'])\n    public slideTiles(keyCode) {\n        console.log(keyCode)\n    }\n\n    @Input()\n    state: State;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/board/board.component.ts\n **/","module.exports = \"tile{display:block;position:absolute;width:80px;height:80px;margin:10px;color:green;font-weight:700;line-height:80px;text-align:center}\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/board/tile/tile.component.css\n ** module id = 685\n ** module chunks = 2\n **/","import {\n    Component,\n    Input,\n    ViewEncapsulation,\n    HostBinding,\n    OnChanges\n} from '@angular/core'\n\nimport {Tile} from \"./tile.model\";\n\n@Component({\n    selector: 'tile',\n    encapsulation: ViewEncapsulation.None,\n    template: '<span *ngIf=\"!tile.isEmpty()\">{{tile.value}}</span>',\n    styles: [require('./tile.component.css')]\n})\nexport class TileComponent implements OnChanges {\n\n    TILE_SIZE = 100;\n\n    @Input()\n    tile: Tile;\n\n    @HostBinding('style.left')\n    xPos;\n    @HostBinding('style.top')\n    yPos;\n\n    @HostBinding('style.background')\n    color;\n\n    ngOnChanges() {\n        this.updatePosition();\n        this.updateColor();\n    }\n\n    private updatePosition() {\n        this.xPos = `${this.tile.x * this.TILE_SIZE}px`;\n        this.yPos = `${this.tile.y * this.TILE_SIZE}px`;\n    }\n\n    private updateColor() {\n        switch (this.tile.value) {\n            case 2:\n                this.color = 'lightblue';\n            default:\n                this.color = 'lightgray';\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/board/tile/tile.component.ts\n **/","export class Tile {\n\n    constructor(\n        public value: number,\n\n        public x: number,\n        public y: number,\n\n        public merged?: boolean\n    ) {\n        this.merged = !!merged;\n    }\n\n    public isEmpty(): boolean {\n        return this.value <= 0;\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/board/tile/tile.model.ts\n **/","// App\nexport * from './app.component';\nexport * from './app.service';\n\nimport { AppState } from './app.service';\n\n// Application wide providers\nexport const APP_PROVIDERS = [\n  AppState\n];\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/index.ts\n **/","import {Tile} from \"../board/tile/tile.model\";\n\nexport class State {\n    score: number = 0;\n    \n    tiles: Tile[] = [];\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/state/state.model.ts\n **/","import {\n    Injectable\n} from '@angular/core';\n\nimport {State} from \"./state.model\";\nimport {Pair} from '../structs/pair.model';\nimport {Tile} from \"../board/tile/tile.model.ts\";\n\n@Injectable()\nexport class StateService {\n\n    BOARD_WIDTH = 4;\n    BOARD_HEIGHT = 4;\n    \n    public getNewGameState(): State {\n        let state = new State();\n        state.tiles = Array.from({length: this.BOARD_WIDTH * this.BOARD_HEIGHT}, (v, k) => {\n            return new Tile(0, k % this.BOARD_WIDTH, Math.floor(k / this.BOARD_WIDTH));\n        });\n\n        return this.addRandomTiles(state, 2);\n    }\n\n    private addRandomTiles(state: State, num: number): State {\n        if (num === 0) {\n            return state;\n        } else {\n            return this.addRandomTiles(this.addRandomTile(state), num - 1);\n        }\n    }\n\n    private addRandomTile(state: State): State {\n        let tile;\n        do {\n            tile = state.tiles[this.getRandomInt(0, 16)]\n        } while (!tile.isEmpty());\n\n        tile.value = this.getRandomInt(0, 4) > 0 ? 2 : 4;\n\n        return state;\n    }\n\n    public slide(state: State): State {\n        return this.addRandomTile(this.slideLeft(state));\n    }\n\n    private getRandomInt(min, max):number {\n        return Math.floor(Math.random() * (max - min)) + min;\n    }\n\n    private slideLeft(state: State): State {\n        let row1 = this.slideTilesLeft(state.tiles.slice(this.BOARD_WIDTH * 0, this.BOARD_WIDTH * 1));\n        let row2 = this.slideTilesLeft(state.tiles.slice(this.BOARD_WIDTH * 1, this.BOARD_WIDTH * 2));\n        let row3 = this.slideTilesLeft(state.tiles.slice(this.BOARD_WIDTH * 2, this.BOARD_WIDTH * 3));\n        let row4 = this.slideTilesLeft(state.tiles.slice(this.BOARD_WIDTH * 3, this.BOARD_WIDTH * 4));\n\n        let update = new State();\n        update.tiles = row1.concat(row2, row3, row4);\n        return update;\n    }\n\n    private slideTilesLeft(tiles: Tile[]): Tile[] {\n        let updates = tiles;\n        for (let i = 1; i <= tiles.length; i++) {\n            updates = this.slideTileLeft(updates.slice(0, i)).concat(updates.slice(i));\n        }\n\n        return updates.map((tile) => {\n            tile.merged = false;\n            return tile;\n        });\n    }\n\n    private slideTileLeft(tiles: Tile[]): Tile[] {\n        return this.slideTileRight(tiles.reverse()).reverse();\n    }\n\n    private slideTileRight(tiles: Tile[]): Tile[] {\n        if (tiles.length <= 1) {\n            return tiles;\n        }\n        \n        let merged = this.mergeTiles(new Pair(tiles[0], tiles[1]));\n        let remaining = tiles.slice(1);\n        remaining[0] = merged.right;\n\n        let res = this.slideTileRight(remaining);\n        res.unshift(merged.left);\n        return res;\n    }\n\n    private mergeTiles(tiles:Pair<Tile>): Pair<Tile> {\n        let left = tiles.left;\n        let right = tiles.right;\n\n        if (right.isEmpty()) {\n            // Move\n            return new Pair(new Tile(0, left.x, left.y), new Tile(left.value, right.x, right.y));\n        } else if (left.value == right.value && !right.isEmpty() && !left.merged && !right.merged) {\n            // Merge\n            return new Pair(new Tile(0, left.x, left.y), new Tile(right.value * 2, right.x, right.y, true));\n        } else {\n            // No Change\n            return tiles;\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/state/state.service.ts\n **/","export class Pair<T> {\n\n    constructor(\n        public left:T, \n        public right:T\n    ) {}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/structs/pair.model.ts\n **/","/*\n * Providers provided by Angular\n */\nimport { bootstrap } from '@angular/platform-browser-dynamic';\n/*\n* Platform and Environment\n* our providers/directives/pipes\n*/\nimport { PLATFORM_PROVIDERS } from './platform/browser';\nimport { ENV_PROVIDERS, decorateComponentRef } from './platform/environment';\n\n\n/*\n* App Component\n* our top level component that holds all of our components\n*/\nimport { App, APP_PROVIDERS } from './app';\n\n/*\n * Bootstrap our Angular app with a top level component `App` and inject\n * our Services and Providers into Angular's dependency injection\n */\nexport function main(initialHmrState?: any): Promise<any> {\n\n  return bootstrap(App, [\n    // To add more vendor providers please look in the platform/ folder\n    ...PLATFORM_PROVIDERS,\n    ...ENV_PROVIDERS,\n    ...APP_PROVIDERS,\n  ])\n  .then(decorateComponentRef)\n  .catch(err => console.error(err));\n\n}\n\n\n\n\n\n/*\n * Vendors\n * For vendors for example jQuery, Lodash, angular2-jwt just import them anywhere in your app\n * You can also import them in vendors to ensure that they are bundled in one file\n * Also see custom-typings.d.ts as you also need to do `typings install x` where `x` is your module\n */\n\n\n/*\n * Hot Module Reload\n * experimental version by @gdi2290\n */\nif ('development' === ENV && HMR === true) {\n  // activate hot module reload\n  let ngHmr = require('angular2-hmr');\n  ngHmr.hotModuleReplacement(main, module);\n} else {\n  // bootstrap when document is ready\n  document.addEventListener('DOMContentLoaded', () => main());\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/main.browser.ts\n **/","/*\n * These are globally available directives in any template\n */\n// Angular 2\nimport { PLATFORM_DIRECTIVES } from '@angular/core';\n// Angular 2 forms\nimport { REACTIVE_FORM_DIRECTIVES } from '@angular/forms';\n\n// application_directives: directives that are global through out the application\nexport const APPLICATION_DIRECTIVES = [\n  ...REACTIVE_FORM_DIRECTIVES\n];\n\nexport const DIRECTIVES = [\n  { provide: PLATFORM_DIRECTIVES, multi: true, useValue: APPLICATION_DIRECTIVES }\n];\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/platform/browser-directives.ts\n **/","/*\n * These are globally available pipes in any template\n */\n\nimport { PLATFORM_PIPES } from '@angular/core';\n\n// application_pipes: pipes that are global through out the application\nexport const APPLICATION_PIPES = [\n\n];\n\nexport const PIPES = [\n  { provide: PLATFORM_PIPES, multi: true, useValue: APPLICATION_PIPES }\n];\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/platform/browser-pipes.ts\n **/","/*\n * These are globally available services in any component or any other service\n */\n\n// Angular 2 Http\nimport { HTTP_PROVIDERS } from '@angular/http';\n// Angular 2 forms\nimport { disableDeprecatedForms, provideForms } from '@angular/forms';\n\n/*\n* Application Providers/Directives/Pipes\n* providers/directives/pipes that only live in our browser environment\n*/\nexport const APPLICATION_PROVIDERS = [\n  // new Angular 2 forms\n  disableDeprecatedForms(),\n  provideForms(),\n\n  ...HTTP_PROVIDERS,\n];\n\nexport const PROVIDERS = [\n  ...APPLICATION_PROVIDERS\n];\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/platform/browser-providers.ts\n **/","export * from './browser-directives';\nexport * from './browser-pipes';\nexport * from './browser-providers';\n\nimport { DIRECTIVES } from './browser-directives';\nimport { PIPES } from './browser-pipes';\nimport { PROVIDERS } from './browser-providers';\n\n\nexport const PLATFORM_PROVIDERS = [\n  ...PROVIDERS,\n  ...DIRECTIVES,\n  ...PIPES\n];\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/platform/browser.ts\n **/","\n// Angular 2\n// rc2 workaround\nimport { enableDebugTools, disableDebugTools } from '@angular/platform-browser';\nimport { enableProdMode } from '@angular/core';\n// Environment Providers\nlet PROVIDERS = [\n  // common env directives\n];\n\n// Angular debug tools in the dev console\n// https://github.com/angular/angular/blob/86405345b781a9dc2438c0fbe3e9409245647019/TOOLS_JS.md\nlet _decorateComponentRef = function identity(value) { return value; };\n\nif ('production' === ENV) {\n  // Production\n  disableDebugTools();\n  enableProdMode();\n\n  PROVIDERS = [\n    ...PROVIDERS,\n    // custom providers in production\n  ];\n\n} else {\n\n  _decorateComponentRef = (cmpRef) => {\n    let _ng = (<any>window).ng;\n    enableDebugTools(cmpRef);\n    (<any>window).ng.probe = _ng.probe;\n    (<any>window).ng.coreTokens = _ng.coreTokens;\n    return cmpRef;\n  };\n\n  // Development\n  PROVIDERS = [\n    ...PROVIDERS,\n    // custom providers in development\n  ];\n\n}\n\nexport const decorateComponentRef = _decorateComponentRef;\n\nexport const ENV_PROVIDERS = [\n  ...PROVIDERS\n];\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/platform/environment.ts\n **/"],"sourceRoot":""}